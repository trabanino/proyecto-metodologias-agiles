<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Proyecto - Sprint View</title>
  <link rel="stylesheet" href="/css/dashboard.css">
  <link rel="stylesheet" href="/css/project_view.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
<div class="container">
  <aside class="sidebar">
    <button class="add-btn" onclick="openAddSprintModal()"><i class="fas fa-plus"></i></button>
    <nav>
      <ul>
        <li><button onclick="openMembersModal()"><i class="fas fa-users"></i></button></li>
        <li><button onclick="toggleNotifications()" id="notificationBtn"><i class="fas fa-bell"></i><span id="notificationCount" class="notification-count"></span></button></li>
        <li><button onclick="goBack()"><i class="fas fa-arrow-left"></i></button></li>
        <li id="deleteProjectBtn" style="display: none;"><button onclick="confirmDeleteProject()"><i class="fas fa-trash"></i></button></li>
      </ul>
    </nav>
  </aside>

  <main>
    <header>
      <h1 id="projectName">Proyecto Scrum</h1>
    </header>

    <div class="sprints">
      <!-- Sprints will be rendered here -->
    </div>
  </main>
</div>

<div class="overlay"></div>

<!-- Add Sprint Modal -->
<div class="modal" id="addSprintModal">
  <h2>Agregar Sprint</h2>
  <input type="text" id="sprint-name" placeholder="Nombre del Sprint">
  <input type="date" id="sprint-start-date" placeholder="Fecha de inicio">
  <input type="date" id="sprint-end-date" placeholder="Fecha de fin">
  <button onclick="addNewSprint()">Agregar</button>
</div>

<!-- Add User Story Modal -->
<div class="modal" id="addUserStoryModal">
  <h2>User Story</h2>
  <input type="text" id="user-story-title" placeholder="Título de la User Story">
  <textarea id="user-story-description" placeholder="Descripción"></textarea>
  <select id="user-story-priority">
    <option value="alta">Alta</option>
    <option value="media">Media</option>
    <option value="baja">Baja</option>
  </select>
  <div>
    <label for="user-story-assignees">Asignar a:</label>
    <select id="user-story-assignees" multiple>
      <!-- Project members will be populated here -->
    </select>
  </div>
  <button onclick="saveUserStory()">Guardar</button>
</div>

<!-- Members Modal -->
<div class="modal" id="membersModal">
  <div class="modal-content">
    <span class="close" onclick="closeMembersModal()">&times;</span>
    <h2>Miembros del Proyecto</h2>
    <ul id="miembrosList"></ul>
    <div class="invitar-miembro">
      <h3>Invitar Miembro</h3>
      <input type="email" id="emailInvitar" placeholder="Correo del miembro">
      <button id="invitarBtn">Invitar</button>
    </div>
  </div>
</div>

<!-- Notifications Modal -->
<div class="modal" id="notificationsModal">
  <div class="modal-content">
    <span class="close" onclick="closeNotificationsModal()">&times;</span>
    <h2>Notificaciones</h2>
    <ul id="notificationsList"></ul>
  </div>
</div>

<script src="/scripts/project_view.js"></script>
</body>
</html>
